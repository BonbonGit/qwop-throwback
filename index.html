<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>QWOP-Throwback</title>
    <link rel="stylesheet" href="main.css">
    <script type="module">
      import {Game} from './main.js';

      Game.init();
    </script>
    <script>
      function simulateKey(key){
        let keyEvent = new KeyboardEvent('keydown', {key:key});
        console.log(key);
        window.dispatchEvent(keyEvent);
      }
      function stopKey(key){
        let keyEvent = new KeyboardEvent('keyup', {key:key});
        window.dispatchEvent(keyEvent);
      }
    </script>
  </head>
  <body>
    <canvas id="gameArea" height="600" width="900">

    </canvas>
    <p>
      <button ontouchstart="simulateKey('q')" ontouchend="stopKey('q')">Q</button>
      <button ontouchstart="simulateKey('w')" ontouchend="stopKey('w')">W</button>
      <button ontouchstart="simulateKey('e')" ontouchend="stopKey('e')">E</button>
      <button ontouchstart="simulateKey(' ')" ontouchend="stopKey(' ')">SPACE</button>
      <button ontouchstart="simulateKey('o')" ontouchend="stopKey('o')">O</button>
      <button ontouchstart="simulateKey('p')" ontouchend="stopKey('p')">P</button>
    </p>
    <p>
      Commands : <br/>
        - Use Q,W,O,P to move the arm <br/>
        - Use space to release the can <br/>
        - Use E to pause the game
    </p>
    <p>
      If you are using firefox and you can't play the game type "about:config" in the adress bar, search for "dom.moduleScripts.enabled" and set it to "true". <br/>
      If your using EDGE search for "Experimental JavaScript Features" preference. <br/>
      Other web browser should work, just don't use IE! <br/>
      Use the buttons to play on mobile devices.
    </p>
  </body>
</html>
